<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from tbox.urdf.xacro                | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<!-- Use the following commands to mannualy generate the SDF file from the URDF file:
  $ /opt/ros/indigo/share/xacro/xacro.py  tbox.urdf.xacro > tmp.urdf 
  $ gz sdf -p tmp.urdf > model.sdf
-->
<robot name="tbox" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <!-- Box height -->
  <!-- Box height -->
  <!-- Box width -->
  <!-- Box length -->
  <!-- Legs width -->
  <!-- Legs height -->
  <!-- LED radius -->
  <!-- LED space to top -->
  <!-- Internal macros -->
  <!-- Macro for leg -->
  <!-- tbox macro -->
  <!-- Base link of the tbox -->
  <gazebo reference="tbox_base_link">
    <material>Gazebo/Black</material>
  </gazebo>
  <link name="tbox_base_link">
    <inertial>
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.135"/>
      <mass value="0.5"/>
      <inertia ixx="0.005" ixy="0" ixz="0" iyy="0.005" iyz="0" izz="0.005"/>
    </inertial>
    <collision name="collision">
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.135"/>
      <geometry>
        <box size="0.14 0.26 0.15"/>
      </geometry>
    </collision>
    <visual name="visual">
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.135"/>
      <geometry>
        <box size="0.14 0.26 0.15"/>
      </geometry>
      <material name="black">
        <color rgba="0.1 0.1 0.1 1.0"/>
      </material>
    </visual>
  </link>
  <!-- Add left front leg -->
  <link name="tbox_left_front_leg">
    <inertial>
      <origin rpy="0.0 0.0 0.0" xyz="0.06 0.12 0.03"/>
      <mass value="0.02"/>
      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>
    </inertial>
    <collision name="collision">
      <origin rpy="0.0 0.0 0.0" xyz="0.06 0.12 0.03"/>
      <geometry>
        <box size="0.02 0.02 0.06"/>
      </geometry>
    </collision>
    <visual name="visual">
      <origin rpy="0.0 0.0 0.0" xyz="0.06 0.12 0.03"/>
      <geometry>
        <box size="0.02 0.02 0.06"/>
      </geometry>
      <material name="blue">
        <color rgba="0.0 0.0 0.851 1.0"/>
      </material>
    </visual>
  </link>
  <gazebo reference="tbox_left_front_leg">
    <material>Gazebo/Gold</material>
  </gazebo>
  <!-- Attach right fingers to left fingers -->
  <joint name="tbox_left_front_leg_base_link_joint" type="fixed">
    <parent link="tbox_base_link"/>
    <child link="tbox_left_front_leg"/>
  </joint>
  <!-- Add right front leg -->
  <link name="tbox_right_front_leg">
    <inertial>
      <origin rpy="0.0 0.0 0.0" xyz="0.06 -0.12 0.03"/>
      <mass value="0.02"/>
      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>
    </inertial>
    <collision name="collision">
      <origin rpy="0.0 0.0 0.0" xyz="0.06 -0.12 0.03"/>
      <geometry>
        <box size="0.02 0.02 0.06"/>
      </geometry>
    </collision>
    <visual name="visual">
      <origin rpy="0.0 0.0 0.0" xyz="0.06 -0.12 0.03"/>
      <geometry>
        <box size="0.02 0.02 0.06"/>
      </geometry>
      <material name="blue">
        <color rgba="0.0 0.0 0.851 1.0"/>
      </material>
    </visual>
  </link>
  <gazebo reference="tbox_right_front_leg">
    <material>Gazebo/Gold</material>
  </gazebo>
  <!-- Attach right fingers to left fingers -->
  <joint name="tbox_right_front_leg_base_link_joint" type="fixed">
    <parent link="tbox_base_link"/>
    <child link="tbox_right_front_leg"/>
  </joint>
  <!-- Add left back leg -->
  <link name="tbox_left_back_leg">
    <inertial>
      <origin rpy="0.0 0.0 0.0" xyz="-0.06 0.12 0.03"/>
      <mass value="0.02"/>
      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>
    </inertial>
    <collision name="collision">
      <origin rpy="0.0 0.0 0.0" xyz="-0.06 0.12 0.03"/>
      <geometry>
        <box size="0.02 0.02 0.06"/>
      </geometry>
    </collision>
    <visual name="visual">
      <origin rpy="0.0 0.0 0.0" xyz="-0.06 0.12 0.03"/>
      <geometry>
        <box size="0.02 0.02 0.06"/>
      </geometry>
      <material name="blue">
        <color rgba="0.0 0.0 0.851 1.0"/>
      </material>
    </visual>
  </link>
  <gazebo reference="tbox_left_back_leg">
    <material>Gazebo/Gold</material>
  </gazebo>
  <!-- Attach right fingers to left fingers -->
  <joint name="tbox_left_back_leg_base_link_joint" type="fixed">
    <parent link="tbox_base_link"/>
    <child link="tbox_left_back_leg"/>
  </joint>
  <!-- Add right back leg -->
  <link name="tbox_right_back_leg">
    <inertial>
      <origin rpy="0.0 0.0 0.0" xyz="-0.06 -0.12 0.03"/>
      <mass value="0.02"/>
      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>
    </inertial>
    <collision name="collision">
      <origin rpy="0.0 0.0 0.0" xyz="-0.06 -0.12 0.03"/>
      <geometry>
        <box size="0.02 0.02 0.06"/>
      </geometry>
    </collision>
    <visual name="visual">
      <origin rpy="0.0 0.0 0.0" xyz="-0.06 -0.12 0.03"/>
      <geometry>
        <box size="0.02 0.02 0.06"/>
      </geometry>
      <material name="blue">
        <color rgba="0.0 0.0 0.851 1.0"/>
      </material>
    </visual>
  </link>
  <gazebo reference="tbox_right_back_leg">
    <material>Gazebo/Gold</material>
  </gazebo>
  <!-- Attach right fingers to left fingers -->
  <joint name="tbox_right_back_leg_base_link_joint" type="fixed">
    <parent link="tbox_base_link"/>
    <child link="tbox_right_back_leg"/>
  </joint>
  <!-- Add LED -->
  <link name="tbox_led_link">
    <inertial>
      <origin rpy="0.0 0.0 0.0" xyz="0.07 0.0 0.18"/>
      <mass value="0.005"/>
      <!-- Inertia is 2/3*m*r^2 = 2/3*0.005*0.05^2-->
      <inertia ixx="0.000008" ixy="0" ixz="0" iyy="0.000008" iyz="0" izz="0.000008"/>
    </inertial>
    <collision name="collision">
      <origin rpy="0.0 0.0 0.0" xyz="0.07 0.0 0.18"/>
      <geometry>
        <sphere radius="0.01"/>
      </geometry>
    </collision>
    <visual name="visual">
      <origin rpy="0.0 0.0 0.0" xyz="0.07 0.0 0.18"/>
      <geometry>
        <sphere radius="0.01"/>
      </geometry>
      <material name="red">
        <color rgba="1 0.0 0.0 1.0"/>
      </material>
    </visual>
  </link>
  <gazebo reference="tbox_led_link">
    <material>Gazebo/Red</material>
  </gazebo>
  <!-- Attach LED to base -->
  <joint name="tbox_led_link_joint" type="fixed">
    <parent link="tbox_base_link"/>
    <child link="tbox_led_link"/>
  </joint>
  <!-- CONTROLLERS -->
  <gazebo>
    <plugin filename="libtbox_plugin.so" name="tbox_tbox_controller">
      <alwaysOn>true</alwaysOn>
      <update>100</update>
      <updateRate>10.0</updateRate>
      <ledLink>tbox_led_link</ledLink>
      <baseLink>tbox_base_link</baseLink>
    </plugin>
  </gazebo>
</robot>

